import { AnimatePresence, motion } from "framer-motion";
import styled from "styled-components";
import { useSlides } from "../Hooks/useSlides";
import { slides } from "../slides";
import { ScrollIcon } from "./ScrollIcon";

const HeroContainer = styled.div`
  height: 100vh;
  position: relative;
  overflow: hidden;
  margin-bottom: 1rem;
`;

const Slide = styled.div`
  position: absolute;
  inset: 0;
  img {
    height: 100vh;
    width: 100vw;
    object-fit: cover;
    object-position: center;
  }
`;

const HeroText = styled.div`
  position: absolute;
  z-index: 2;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  text-align: center;
  .heading {
    margin-bottom: 70px;
    max-width: 70vw;
  }
  .subheading {
    max-width: 70vw;
  }
  @media screen and (min-width: ${({ theme }) => theme.breakpoints.md}) {
    width: 70vw;
  }
`;

export const Hero = () => {
  const { activeSlide } = useSlides({ slides });
  return (
    <HeroContainer>
      <HeroText>
        <svg viewBox="0 0 1167 189" fill="none" className="heading">
          <path
            d="M140.282 152.647L81.9095 3.13443L68.0458 0.254673L66.2051 1.56722L72.7649 18.5911L21.2068 152.118C11.2594 175.176 6.54023 181.19 0 184.853V186.107H49.4629V184.794C28.5303 180.093 22.7733 173.04 32.7207 144.204H32.4466L39.7897 123.418L111.223 117.306L127.711 160.248C132.684 176.312 129.238 181.973 115.159 184.853V186.107H162.527V184.794C154.694 180.347 148.82 174.314 140.282 152.588V152.647ZM74.586 23.0381L109.657 113.897H43.1773L74.5077 23.0381H74.586ZM245.239 0C223.504 0 210.423 2.87976 199.732 2.87976H177.702V4.19231C184.771 5.50485 188.707 12.8316 188.707 26.9757V162.148C188.707 174.451 184.791 182.835 173.786 184.932V186.107H197.597C216.18 186.107 233.196 188.732 249.41 188.732C307.528 188.732 341.012 159.131 341.012 103.887C341.012 35.2624 297.052 0 245.239 0ZM256.224 183.541C225.344 183.541 202.825 176.998 202.825 161.032V26.9757C202.825 10.2065 215.925 3.66337 238.679 3.66337C276.628 3.66337 325.837 34.8314 325.837 108.393C325.837 163.128 295.74 183.541 256.224 183.541ZM511.391 152.647L453.038 3.13443L439.155 0.254673L437.334 1.56722L443.874 18.5911L392.316 152.118C382.368 175.176 377.649 181.19 371.109 184.853V186.107H420.572V184.794C399.639 180.093 393.882 173.04 403.83 144.204H403.575L410.899 123.418L482.352 117.404L498.839 160.346C503.813 176.312 500.406 182.071 486.268 184.951V186.107H533.636V184.794C525.803 180.347 520.027 174.314 511.391 152.588V152.647ZM445.695 23.0381L480.766 113.897H414.306L445.636 23.0381H445.695ZM606.401 188.791C642 188.791 673.663 171.767 673.663 136.152C673.663 77.2442 558.759 71.2104 558.759 32.9899C558.759 15.7113 576.833 5.23059 602.21 5.23059C637.281 5.23059 659.78 23.0381 663.716 46.37H666.066L668.944 13.7131C650.231 5.05553 629.895 0.468383 609.279 0.254673C572.368 0.254673 549.869 13.9678 549.869 39.0041C549.869 87.7054 663.716 91.1141 663.716 144.262C663.716 169.142 637.809 182.502 614.762 182.502C579.946 182.502 554.568 163.637 549.32 136.152H547.225L545.678 172.394C552.493 178.408 577.342 188.889 606.381 188.889L606.401 188.791ZM696.946 2.87976L690.151 35.0861L691.972 35.3407C699.315 20.6873 712.395 7.601 753.223 6.28846V162.07C753.223 174.372 749.307 182.228 738.302 184.853V186.107H782.282V184.794C771.277 182.169 767.361 174.314 767.361 162.011V6.28846C805.819 7.32674 818.39 15.966 828.063 35.3407L829.885 35.0861L823.364 2.87976H696.946ZM975.943 162.599L922.544 83.7873C962.334 81.1622 979.605 65.4509 979.605 42.9417C979.605 13.8699 953.444 0.254673 914.692 0.254673C891.194 0.254673 878.055 2.87976 862.351 2.87976H844.297V4.19231C851.366 5.50485 855.282 12.8316 855.282 26.9757V162.148C855.282 174.451 851.366 182.306 840.38 184.932V186.107H896.109V184.794C877.252 181.973 869.42 174.353 869.42 162.07V84.2379H914.183L960.493 168.28C964.684 178.761 960.239 182.953 951.603 184.775V186.107H992.431V184.794C989.024 181.915 985.362 176.41 975.943 162.54V162.599ZM909.993 80.3199C896.128 79.9682 882.418 77.3203 869.42 72.4838V26.1921C869.42 9.16822 883.303 3.66337 906.057 3.66337C939.913 3.66337 963.411 20.6873 963.411 45.2926C963.411 66.8418 947.197 80.3786 910.032 80.3786L909.993 80.3199ZM1144.76 152.647L1086.38 3.13443L1072.52 0.254673L1070.68 1.56722L1077.22 18.5911L1025.66 152.118C1015.71 175.176 1011.01 181.19 1004.47 184.853V186.107H1053.94V184.794C1033 180.093 1027.25 173.04 1037.17 144.204H1036.92L1044.24 123.418L1115.7 117.404L1132.18 160.346C1137.16 176.312 1133.75 182.071 1119.63 184.951V186.107H1167.06V184.794C1159.23 180.347 1153.35 174.314 1144.81 152.588L1144.76 152.647ZM1079.06 23.0381L1114.19 113.897H1047.61L1078.94 23.0381H1079.06Z"
            fill="white"
          />
        </svg>
        <svg
          width="477"
          height="29"
          viewBox="0 0 477 29"
          fill="none"
          className="subheading"
        >
          <path
            d="M27.5775 20.0277C27.6071 18.7462 27.3098 17.4784 26.7137 16.3438C26.1175 15.2093 25.2422 14.2455 24.1703 13.5433C24.855 12.8873 25.4004 12.0998 25.7739 11.228C26.1474 10.3562 26.3412 9.41797 26.3439 8.46947C26.3439 3.39561 22.7017 1.26027 18.0413 1.26027H0.633301V28.0205H18.0413C23.4458 28.0205 27.5775 25.9439 27.5775 20.0277ZM22.8192 8.41067C22.8192 11.4863 20.7435 12.0936 18.0413 12.0936H4.15798V4.78651H18.1392C20.7435 4.78651 22.8192 5.45256 22.8192 8.41067ZM24.1116 20.3019C24.1116 24.0828 21.2135 24.4355 18.0413 24.4355H4.15798V15.6786H18.0413C21.2526 15.6786 24.1116 16.5602 24.1116 20.3019ZM63.7641 1.26027H59.1037L49.8221 11.5255L40.5013 1.26027H35.88L48.001 14.7383V28.0205H51.5844V14.7383L63.7641 1.26027ZM116.184 28.0205V24.4355H95.5841V16.0901H107.098V12.5638H95.5841V4.72774H115.655V1.2015H92.1574V27.9617L116.184 28.0205ZM150.236 28.0205V24.4942H132.789V1.26027H129.323V28.0205H150.236ZM165.745 28.0205V1.26027H162.161V28.0205H165.745ZM202.95 4.72774V1.26027H177.827V4.72774H188.616V28.0205H192.023V4.72774H202.95ZM237.629 28.0205V24.4355H216.99V16.0901H228.504V12.5638H216.99V4.72774H237.061V1.2015H213.563V27.9617L237.629 28.0205ZM294.415 28.0205V1.26027H290.89V12.4659H272.386V1.26027H268.9V28.0205H272.386V15.9921H290.89V28.0205H294.415ZM338.787 14.8951C338.787 5.76602 330.602 0.319946 322.142 0.319946C313.683 0.319946 305.929 5.66806 305.929 14.4836C305.929 23.6714 313.761 29 322.299 29C330.837 29 338.787 24.0829 338.787 14.8951ZM335.262 14.8951C335.262 22.0063 328.781 25.4737 322.417 25.4737C316.053 25.4737 309.395 21.7516 309.395 14.5424C309.395 7.64667 315.935 3.90495 322.142 3.90495C328.683 3.90495 335.262 7.68586 335.262 14.8951ZM371.449 4.72774V1.26027H346.228V4.72774H357.017V28.0205H360.424V4.72774H371.449ZM406.128 28.0205V24.4355H385.391V16.0901H396.905V12.5638H385.391V4.72774H405.462V1.2015H381.964V27.9617L406.128 28.0205ZM440.199 28.0205V24.4942H422.596V1.26027H419.13V28.0205H440.199ZM476.425 20.4978C476.425 14.7383 470.825 12.505 465.91 12.4071L458.43 12.2504C456.06 12.2504 452.947 11.2121 452.947 8.33233C452.947 4.41429 458.547 3.92453 461.289 3.92453C465.544 3.62371 469.774 4.79232 473.273 7.23528L474.878 4.08126C470.762 1.54666 466.004 0.247955 461.171 0.339526C456.139 0.339526 449.422 2.29855 449.422 8.3911C449.422 13.4062 454.239 15.6982 458.645 15.7962C461.347 15.7962 463.991 15.9137 466.674 16.0117C469.356 16.1096 472.842 17.2067 472.842 20.5762C472.842 24.886 466.517 25.5521 463.423 25.5521C459.062 25.6373 454.758 24.5407 450.969 22.3785C450.343 21.9671 449.736 21.4969 449.109 21.0464L447.405 24.2592C449.634 25.9498 452.187 27.1635 454.905 27.8246C457.777 28.611 460.74 29.0128 463.717 29.0196C469.16 29.0196 476.425 27.2173 476.425 20.5174V20.4978Z"
            fill="white"
          />
        </svg>
      </HeroText>
      {slides.map(({ url }, i) => {
        return (
          <Slide key={url}>
            <AnimatePresence key={i}>
              {activeSlide === i && (
                <motion.img
                  src={url}
                  initial={{ opacity: 0 }}
                  animate={{ opacity: 1, transition: { duration: 0.8 } }}
                  exit={{ opacity: 0, transition: { duration: 1.2 } }}
                />
              )}
            </AnimatePresence>
          </Slide>
        );
      })}
      <ScrollIcon />
    </HeroContainer>
  );
};
